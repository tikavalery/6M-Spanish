<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vocabulary</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="./vocabulary.css">
  <!-- <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      display: flex;
      background-color: #f0f4f8;
      color: #333;
      height: 100vh;
    }

    .sidebar {
      width: 250px;
      background-color: #2c3e50;
      padding: 20px;
      color: white;
      overflow-y: auto;
    }

    .sidebar h2 {
      margin-bottom: 20px;
      font-size: 1.4rem;
      font-weight: 600;
    }

    .sidebar ul {
      list-style: none;
    }

    .sidebar li {
      margin: 8px 0;
      cursor: pointer;
    }

    .sidebar li.active {
      font-weight: bold;
      color: #ffd700;
    }

    .main {
      flex-grow: 1;
      padding: 40px;
      overflow-y: auto;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      font-weight: 800;
      color: #2c3e50;
    }

    .pagination {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 30px;
    }

    .letter {
      padding: 10px 16px;
      background-color: white;
      border-radius: 10px;
      font-weight: 600;
      color: #34495e;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .letter:hover,
    .letter.active {
      background-color: #dbefff;
      color: #2c3e50;
    }

    #wordDisplay {
      font-size: 1.5rem;
      background: white;
      padding: 20px;
      border-radius: 16px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      cursor: pointer;
    }

    .instruction {
      font-size: 0.9rem;
      margin-bottom: 20px;
      text-align: center;
      color: #555;
    }

    #controls {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    button {
      padding: 10px 20px;
      border: none;
      background-color: #3498db;
      color: white;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
    }

    button:hover {
      background-color: #2980b9;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
        height: auto;
      }
    }
  </style> -->

  <!-- <style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Inter', sans-serif;
    display: flex;
    flex-direction: row;
    background-color: #f0f4f8;
    color: #333;
    min-height: 100vh;
  }

  .sidebar {
    width: 250px;
    background-color: #2c3e50;
    padding: 20px;
    color: white;
    overflow-y: auto;
    flex-shrink: 0;
    transition: all 0.3s ease;
  }

  .sidebar h2 {
    margin-bottom: 20px;
    font-size: 1.4rem;
    font-weight: 600;
  }

  .sidebar ul {
    list-style: none;
  }

  .sidebar li {
    margin: 8px 0;
    cursor: pointer;
  }

  .sidebar li.active {
    font-weight: bold;
    color: #ffd700;
  }

  .main {
    flex-grow: 1;
    padding: 40px;
    overflow-y: auto;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    font-weight: 800;
    color: #2c3e50;
  }

  .pagination {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 30px;
  }

  .letter {
    padding: 10px 16px;
    background-color: white;
    border-radius: 10px;
    font-weight: 600;
    color: #34495e;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .letter:hover,
  .letter.active {
    background-color: #dbefff;
    color: #2c3e50;
  }

  #wordDisplay {
    font-size: 1.5rem;
    background: white;
    padding: 20px;
    border-radius: 16px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
    cursor: pointer;
  }

  .instruction {
    font-size: 0.9rem;
    margin-bottom: 20px;
    text-align: center;
    color: #555;
  }

  #controls {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
  }

  button {
    padding: 10px 20px;
    border: none;
    background-color: #3498db;
    color: white;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
  }

  button:hover {
    background-color: #2980b9;
  }

  /* Responsive layout for tablets and phones */
  @media screen and (max-width: 768px) {
    body {
      flex-direction: column;
    }

    .sidebar {
      width: 100%;
      height: auto;
      border-right: none;
      border-bottom: 1px solid #ccc;
    }

    .main {
      padding: 20px;
    }
  }
</style> -->

<style>
 

</style>

</head>
<body>

    <!-- üîù Top Navigation -->
  <!-- <div class="navbar">
    <h1>Spanish Courses</h1>
    <div class="nav-links">
      <a href="vocabulary.html">Vocabulary</a>
      <a href="conjugation.html">Conjugation</a>
      <a href="adjectives.html">Adjectives</a>
      <a href="adverbs.html">Adverbs</a>
      <a href="grammar.html">Grammar</a>
      <a href="articles.html">Articles</a>
      <a href="verbs.html">Verbs</a>
      <a href="questions.html">Questions</a>
      <a href="negation.html">Negation</a>
    </div>
  </div> -->
  <div class="sidebar">
    <h2>Word List</h2>
    <ul id="wordList"></ul>
  </div>

  <div class="main">
    <h1>Vocabulary</h1>
    <div class="pagination">
      <!-- A-Z Pagination -->
      <a class="letter active" href="./vocabulary.html">A</a>
      <a class="letter" href="./vocabularyB.html">B</a>
      <a class="letter" href="./vocabularyC.html">C</a>
      <a class="letter" href="./vocabularyD.html">D</a>
      <a class="letter" href="./vocabularyE.html">E</a>
      <a class="letter" href="./vocabularyF.html">F</a>
      <a class="letter" href="./vocabularyG.html">G</a>
      <a class="letter" href="./vocabularyH.html">H</a>
      <a class="letter" href="./vocabularyI.html">I</a>
      <a class="letter" href="./vocabularyJ.html">J</a>
      <a class="letter" href="./vocabularyK.html">K</a>
      <a class="letter" href="./vocabularyK.html">L</a>
      <a class="letter" href="./vocabularyM.html">M</a>
      <a class="letter" href="./vocabularyN.html">N</a>
      <a class="letter" href="./vocabularyO.html">O</a>
      <a class="letter" href="./vocabularyP.html">P</a>
      <a class="letter" href="./vocabularyQ.html">Q</a>
      <a class="letter" href="./vocabularyR.html">R</a>
      <a class="letter" href="./vocabularyS.html">S</a>
      <a class="letter" href="./vocabularyT.html">T</a>
      <a class="letter" href="./vocabularyV.html">U</a>
      <a class="letter" href="./vocabularyV.html">V</a>
      <a class="letter" href="./vocabularyW.html">W</a>
      <a class="letter" href="./vocabularyX.html">X</a>
      <a class="letter" href="./vocabularyY.html">Y</a>
      <a class="letter" href="./vocabularyZ.html">Z</a>
    </div>
    <div id="wordDisplay">‚ñ∂ Click to Start</div>
    <div class="instruction">Click the box to begin audio playback</div>
    <div id="controls" style="display:none;">
      <button id="prevBtn">Previous</button>
      <button id="pauseResumeBtn">Pause</button>
      <button id="stopBtn">Stop</button>
      <button id="nextBtn">Next</button>
    </div>
  </div>

  <script>
const words = [
  ["a", "un / una"],
  ["ability", "habilidad"],
  ["able", "capaz"],
  ["about", "sobre"],
  ["above", "encima"],
  ["absence", "ausencia"],
  ["absolutely", "absolutamente"],
  ["accident", "accidente"],
  ["account", "cuenta"],
  ["across", "a trav√©s de"],
  ["action", "acci√≥n"],
  ["activity", "actividad"],
  ["actually", "en realidad"],
  ["advantage", "ventaja"],
  ["adventure", "aventura"],
  ["advice", "consejo"],
  ["affair", "asunto"],
  ["affection", "afecto"],
  ["afraid", "asustado"],
  ["after", "despu√©s"],
  ["afternoon", "tarde"],
  ["afterwards", "despu√©s"],
  ["again", "otra vez"],
  ["against", "contra"],
  ["age", "edad"],
  ["agent", "agente"],
  ["ago", "hace"],
  ["ahead", "adelante"],
  ["aid", "ayuda"],
  ["air", "aire"],
  ["alarm", "alarma"],
  ["alive", "vivo"],
  ["all", "todo"],
  ["almost", "casi"],
  ["alone", "solo"],
  ["along", "a lo largo"],
  ["already", "ya"],
  ["also", "tambi√©n"],
  ["although", "aunque"],
  ["altogether", "en total"],
  ["always", "siempre"],
  ["America", "Am√©rica"],
  ["American", "estadounidense"],
  ["among", "entre"],
  ["amount", "cantidad"],
  ["an", "un / una"],
  ["ancient", "antiguo"],
  ["and", "y"],
  ["angel", "√°ngel"],
  ["anger", "ira"],
  ["angry", "enojado"],
  ["another", "otro"],
  ["anxiety", "ansiedad"],
  ["anxious", "ansioso"],
  ["any", "cualquier"],
  ["anybody", "cualquiera"],
  ["anymore", "ya no"],
  ["anyone", "alguien"],
  ["anything", "cualquier cosa"],
  ["anyway", "de todos modos"],
  ["anywhere", "en cualquier lugar"],
  ["apart", "aparte"],
  ["apartment", "apartamento"],
  ["apparently", "aparentemente"],
  ["appearance", "apariencia"],
  ["April", "abril"],
  ["area", "√°rea"],
  ["argument", "argumento"],
  ["arm", "brazo"],
  ["army", "ej√©rcito"],
  ["around", "alrededor"],
  ["arrangement", "arreglo"],
  ["arrival", "llegada"],
  ["art", "arte"],
  ["article", "art√≠culo"],
  ["artist", "artista"],
  ["as", "como"],
  ["aside", "a un lado"],
  ["asleep", "dormido"],
  ["aspect", "aspecto"],
  ["ass", "burro"],
  ["at", "en"],
  ["attack", "ataque"],
  ["attempt", "intento"],
  ["attention", "atenci√≥n"],
  ["attitude", "actitud"],
  ["audience", "audiencia"],
  ["August", "agosto"],
  ["aunt", "t√≠a"],
  ["author", "autor"],
  ["authority", "autoridad"],
  ["awake", "despierto"],
  ["aware", "consciente"],
  ["away", "lejos"],
  ["awful", "horrible"],
  ["to", "a"],
  ["to abandon", "abandonar"],
  ["to accept", "aceptar"],
  ["to accompany", "acompa√±ar"],
  ["to accord", "acordar"],
  ["to accuse", "acusar"],
  ["to ache", "doler"],
  ["to acknowledge", "reconocer"],
  ["to act", "actuar"],
  ["to add", "a√±adir"],
  ["to address", "dirigirse a"],
  ["to admire", "admirar"],
  ["to admit", "admitir"],
  ["to advance", "avanzar"],
  ["to affect", "afectar"],
  ["to afford", "permitirse"],
  ["to agree", "estar de acuerdo"],
  ["to aim", "apuntar"],
  ["to allow", "permitir"],
  ["to announce", "anunciar"],
  ["to answer", "responder"],
  ["to appeal", "apelar"],
  ["to appear", "aparecer"],
  ["to apply", "aplicar"],
  ["to appreciate", "apreciar"],
  ["to approach", "acercarse"],
  ["to argue", "discutir"],
  ["to arise", "surgir"],
  ["to arrange", "organizar"],
  ["to arrest", "arrestar"],
  ["to arrive", "llegar"],
  ["to ask", "preguntar"],
  ["to associate", "asociar"],
  ["to assume", "asumir"],
  ["to assure", "asegurar"],
  ["to attach", "adjuntar"],
  ["to attend", "asistir"],
  ["to attract", "atraer"],
  ["to avoid", "evitar"]
];

    const display = document.getElementById('wordDisplay');
    const controls = document.getElementById('controls');
    const prevBtn = document.getElementById('prevBtn');
    const pauseResumeBtn = document.getElementById('pauseResumeBtn');
    const stopBtn = document.getElementById('stopBtn');
    const nextBtn = document.getElementById('nextBtn');
    const wordList = document.getElementById('wordList');

    let index = 0;
    let started = false;
    let stopRequested = false;
    let skipRequested = false;
    let pauseRequested = false;
    let jumpToIndex = false;

    // Populate sidebar list
    words.forEach(([en, es], i) => {
      const li = document.createElement('li');
      li.textContent = `${en} - ${es}`;
      li.dataset.idx = i;
      li.addEventListener('click', () => {
        index = i;
        if (started) {
          jumpToIndex = true;
          speechSynthesis.cancel();
        } else {
          updateDisplayAndHighlight();
        }
      });
      wordList.appendChild(li);
    });

    function updateDisplayAndHighlight() {
      const [en, es] = words[index];
      display.textContent = `${en} - ${es}`;

      Array.from(wordList.children).forEach(li => li.classList.remove('active'));
      const activeLi = wordList.querySelector(`li[data-idx="${index}"]`);
      if (activeLi) {
        activeLi.classList.add('active');
        activeLi.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
    }

    function speakWord(text, lang) {
      return new Promise(resolve => {
        if (stopRequested || skipRequested || jumpToIndex) {
          resolve();
          return;
        }
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = lang;
        utterance.onend = () => resolve();
        utterance.onerror = () => resolve();
        speechSynthesis.speak(utterance);
      });
    }

    async function waitWithPause(ms) {
      const interval = 100;
      let waited = 0;
      while (waited < ms) {
        if (stopRequested || skipRequested || jumpToIndex) break;
        if (!pauseRequested) {
          waited += interval;
        }
        await new Promise(r => setTimeout(r, interval));
      }
    }

    async function playLoop() {
      while (!stopRequested) {
        if (pauseRequested) {
          await new Promise(r => setTimeout(r, 200));
          continue;
        }

        updateDisplayAndHighlight();
        const [english, spanish] = words[index];

        await speakWord(english, 'en-US');
        if (stopRequested || skipRequested || jumpToIndex) {
          if (skipRequested) {
            index = (index + 1) % words.length;
            skipRequested = false;
          }
          if (jumpToIndex) {
            jumpToIndex = false;
          }
          continue;
        }

        await speakWord(spanish, 'es-ES');
        if (stopRequested || skipRequested || jumpToIndex) {
          if (skipRequested) {
            index = (index + 1) % words.length;
            skipRequested = false;
          }
          if (jumpToIndex) {
            jumpToIndex = false;
          }
          continue;
        }

        index = (index + 1) % words.length;
        await waitWithPause(1000);
      }

      stopRequested = false;
      pauseRequested = false;
      skipRequested = false;
      jumpToIndex = false;
      started = false;
      speechSynthesis.cancel();
      display.textContent = "‚ñ∂ Click to Start";
      controls.style.display = "none";
      pauseResumeBtn.textContent = "Pause";
      Array.from(wordList.children).forEach(li => li.classList.remove('active'));
    }

    display.addEventListener('click', () => {
      if (!started) {
        started = true;
        stopRequested = false;
        skipRequested = false;
        pauseRequested = false;
        index = 0;
        display.textContent = "Loading...";
        controls.style.display = "flex";
        pauseResumeBtn.textContent = "Pause";
        setTimeout(() => {
          playLoop();
        }, 500);
      }
    });

    stopBtn.addEventListener('click', () => {
      stopRequested = true;
      speechSynthesis.cancel();
    });

    nextBtn.addEventListener('click', () => {
      if (started) {
        skipRequested = true;
        speechSynthesis.cancel();
      }
    });

    prevBtn.addEventListener('click', () => {
      if (started) {
        skipRequested = true;
        index = (index - 1 + words.length) % words.length;
        speechSynthesis.cancel();
      }
    });

    pauseResumeBtn.addEventListener('click', () => {
      if (!started) return;
      if (!pauseRequested) {
        pauseRequested = true;
        speechSynthesis.pause();
        pauseResumeBtn.textContent = "Resume";
      } else {
        pauseRequested = false;
        speechSynthesis.resume();
        pauseResumeBtn.textContent = "Pause";
      }
    });
  </script>
</body>
</html>
